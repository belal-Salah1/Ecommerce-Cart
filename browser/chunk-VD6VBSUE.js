import{a as k,c as D,d as q,f as F,g as B,i as R,k as $,l as j,m as L,u as W}from"./chunk-MOWG5R6P.js";import{C as P,F as g,I as w,J as E,K as i,L as e,M as r,N as f,O as C,P as u,S as n,T as _,U as h,V as M,W as I,X as T,aa as x,ba as b,ia as O,ja as A,ka as N,n as s,o as p,oa as V,t as y,v as a,x as v,y as S}from"./chunk-32RDIAB7.js";var G=(l,o)=>o.pdId;function U(l,o){l&1&&(i(0,"div",3)(1,"p"),n(2,"Cart Is Empty"),e()())}function H(l,o){if(l&1){let t=f();i(0,"div",7)(1,"div",36),r(2,"img",37),e(),i(3,"div",38)(4,"h4"),n(5),e(),i(6,"p"),n(7),x(8,"currency"),e(),i(9,"button",39),C("click",function(){let d=s(t).$implicit,c=u(2);return p(c.removeProduct(d))}),r(10,"i",40),n(11,"Romove "),e(),i(12,"div",41)(13,"button",42),C("click",function(){let d=s(t).$implicit,c=u(2);return p(c.minusCount(d))}),n(14,"-"),e(),n(15,"\xA0 "),i(16,"input",43),T("ngModelChange",function(d){let c=s(t).$implicit;return I(c.quantity,d)||(c.quantity=d),p(d)}),e(),n(17,"\xA0 "),i(18,"button",42),C("click",function(){let d=s(t).$implicit,c=u(2);return p(c.plusCount(d))}),n(19,"+"),e()()()()}if(l&2){let t=o.$implicit;a(2),g("src",t.pdImg,y),a(3),_(t.pdName),a(2),_(b(8,4,t.pdPrice)),a(9),M("ngModel",t.quantity)}}function J(l,o){if(l&1){let t=f();i(0,"div",4)(1,"div",5)(2,"div",6),w(3,H,20,6,"div",7,G),e(),i(5,"div",8)(6,"div",9)(7,"h5",10),n(8,"Price Details"),e(),r(9,"hr"),i(10,"p",11)(11,"span",12),n(12),e(),i(13,"span",13),n(14),x(15,"currency"),e()(),r(16,"div",14),i(17,"p",11)(18,"span",12),n(19,"Delivery"),e(),i(20,"span",13),n(21,"Free"),e()(),r(22,"div",14)(23,"hr"),i(24,"span",15),n(25,"Total Amount"),e(),i(26,"span",13),n(27),x(28,"currency"),e(),r(29,"div",16),i(30,"button",17),n(31,"Place Order "),r(32,"i",18),e()()()(),i(33,"div",19)(34,"div",20)(35,"div",21)(36,"div",22)(37,"h1",23),n(38,"Confirm Order"),e(),r(39,"button",24),e(),i(40,"div",25)(41,"form")(42,"div",26)(43,"label",27),n(44,"Enter Email Id :"),e(),r(45,"input",28),e(),i(46,"div",26)(47,"label",29),n(48,"Enter Address :"),e(),r(49,"textarea",30),e(),i(50,"div",26),r(51,"input",31),i(52,"label",32),n(53,"Cash On Delevery"),e()(),i(54,"div",26)(55,"h5"),n(56),x(57,"currency"),e()()()(),i(58,"div",33)(59,"button",34),n(60,"Close"),e(),i(61,"button",35),C("click",function(){s(t);let d=u();return p(d.orderNow())}),n(62,"Order Now"),e()()()()()()}if(l&2){let t=u();a(3),E(t.getCartProducts),a(9),h("Price(",t.productsCount,")"),a(2),_(b(15,4,t.TotalAmount)),a(13),_(b(28,6,t.TotalAmount)),a(29),h("Totla Amount : ",b(57,8,t.TotalAmount),"")}}var z=class l{constructor(o,t){this._dataStorageService=o;this._router=t}getCartProducts=[];TotalAmount=0;productsCount=0;ngOnInit(){this.getCartProducts=this._dataStorageService.getCartData(),this.getCartProducts.forEach(o=>{o.quantity=o.quantity||1}),this.updateTotalAmount(),this.productsCount=this.getCartProducts.length}removeProduct(o){this.getCartProducts=this.getCartProducts.filter(t=>t.pdId!==o.pdId),this._dataStorageService.storeCartData(this.getCartProducts),this.updateTotalAmount(),this.productsCount=this.getCartProducts.length}plusCount(o){o.quantity<5&&(this.productsCount+=1,o.quantity+=1,this.updateTotalAmount())}minusCount(o){o.quantity>1&&(this.productsCount-=1,o.quantity-=1,this.updateTotalAmount())}updateTotalAmount(){this.TotalAmount=this.getCartProducts.reduce((o,t)=>o+t.pdPrice*t.quantity,0)}orderNow(){this._router.navigate(["/home"]),localStorage.removeItem("cart-data"),this.resetPage()}resetPage(){this.getCartProducts=[],this.productsCount=0,this.TotalAmount=0}static \u0275fac=function(t){return new(t||l)(v(k),v(V))};static \u0275cmp=S({type:l,selectors:[["app-cart"]],decls:3,vars:3,consts:[[3,"cartCount"],["class","container p-5 mx-auto mt-5 bg-white text-center",4,"ngIf"],["class","container-fluid",4,"ngIf"],[1,"container","p-5","mx-auto","mt-5","bg-white","text-center"],[1,"container-fluid"],[1,"row","g-3","main"],[1,"col-lg-8","col-12","bg-white","main-div"],[1,"row","prds-content"],[1,"col-lg-3","col-6","mx-auto","mt-5","price","bg-white"],[1,"price-details"],[1,"fw-bold","fs-5"],[1,"mb-2","mt-2"],[1,"float-start"],[1,"float-end"],[1,"clearfix"],[1,"fw-bold","float-start"],[1,"clearfix","mb-4"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",1,"btn","btn-warning","w-100","mb-3"],[1,"bi","bi-arrow-right"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name",1,"form-control"],["for","message-text",1,"col-form-label"],["id","message-text",1,"form-control"],["type","radio","checked",""],["for",""],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"box","col-4"],["alt","cart image",1,"img-fluid",3,"src"],[1,"text","col-8"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash3-fill"],[1,"mt-2"],[1,"btn","btn-sm","btn-dark",3,"click"],["type","number","disabled","",1,"col-2",3,"ngModelChange","ngModel"]],template:function(t,m){t&1&&(r(0,"app-navbar",0),P(1,U,3,0,"div",1)(2,J,63,10,"div",2)),t&2&&(g("cartCount",m.productsCount),a(),g("ngIf",m.productsCount==0),a(),g("ngIf",m.productsCount>0))},dependencies:[N,O,A,D,W,j,q,L,F,B,$,R],styles:[".main-div[_ngcontent-%COMP%]   .prds-content[_ngcontent-%COMP%]{padding:20px}.main-div[_ngcontent-%COMP%]   .prds-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{height:180px}.main-div[_ngcontent-%COMP%]   .prds-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.text[_ngcontent-%COMP%]{padding:24px 0}.main[_ngcontent-%COMP%]{padding:41px}.price[_ngcontent-%COMP%]{padding:24px 10px 0;margin-left:20px;height:fit-content;width:min(400px,300px)}"],changeDetection:0})};export{z as CartComponent};
